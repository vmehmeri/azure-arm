
    {
      "apiVersion": "2018-02-01",
      "name": "hubPrdGateway",
      "type": "Microsoft.Resources/deployments",
      "dependsOn": [
        "[resourceId(parameters('existingHubVnetResourceGroup'), 'Microsoft.Resources/deployments', 'hubVnetTemplate')]"
      ],
      "resourceGroup": "[parameters('existingHubGatewayResourceGroup')]",
      "properties": {
        "mode": "incremental",
        "templateLink": {
          "contentVersion": "1.0.0.0",
          "uri": "[variables('hubGatewayTemplateURI')]"
        },
        "parameters": {
          "existingHubVnetResourceGroup": { "value": "[parameters('existingHubVnetResourceGroup')]" },
          "existingHubVnetName": { "value": "[parameters('hubVnetName')]" },
          "gatewayName": { "value": "[parameters('prdGatewayName')]" },
          "gatewaySubnetPrefix": { "value": "[parameters('gatewaySubnetPrefix')]" },
          "gatewaySku": { "value": "[parameters('gatewaySku')]" }
        }
      }
    },
    {
      "apiVersion": "2018-02-01",
      "name": "hubNprGateway",
      "type": "Microsoft.Resources/deployments",
      "dependsOn": [
        "[resourceId(parameters('existingHubVnetResourceGroup'), 'Microsoft.Resources/deployments', 'hubVnetTemplate')]",
        "[resourceId(parameters('existingHubGatewayResourceGroup'), 'Microsoft.Resources/deployments', 'hubPrdGateway')]"
      ],
      "resourceGroup": "[parameters('existingHubGatewayResourceGroup')]",
      "properties": {
        "mode": "incremental",
        "templateLink": {
          "contentVersion": "1.0.0.0",
          "uri": "[variables('hubGatewayTemplateURI')]"
        },
        "parameters": {
          "existingHubVnetResourceGroup": { "value": "[parameters('existingHubVnetResourceGroup')]" },
          "existingHubVnetName": { "value": "[parameters('hubVnetName')]" },
          "gatewayName": { "value": "[parameters('nprGatewayName')]" },
          "gatewaySubnetPrefix": { "value": "[parameters('gatewaySubnetPrefix')]" },
          "gatewaySku": { "value": "[parameters('gatewaySku')]" }
        }
      }
    }